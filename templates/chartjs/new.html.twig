{% extends 'base1.html.twig' %}
{% block sidebar %}
<!-- ======= Sidebar ======= -->
            <aside id="sidebar" class="sidebar">

                <ul class="sidebar-nav" id="sidebar-nav">

                    <li class="nav-item">
                        <a class="nav-link "href="{{ path('app_fiche_index') }}">
                            <i class="bi bi-grid"></i>
                            <span>Fiches patients</span>
                        </a>
                    </li><!-- End Dashboard Nav -->

                    <li class="nav-item">
                        <a class="nav-link "href="{{ path('app_evenement_index') }}">
                            <i class="bi bi-grid"></i>
                            <span>Evenements</span>
                        </a>
                    </li><!-- End Dashboard Nav -->

                     
                   
                </ul>

            </aside><!-- End Sidebar-->
{% endblock %}
{% block body %}
 

    <main id="main" class="main">

        <div class="pagetitle">
            <h1>Fiche Consultation</h1>
            <nav>
                <ol class="breadcrumb">
                    <li class="breadcrumb-item"><a href="{{ path('app_chartjs_new') }}">Stats</a></li>
                    <li class="breadcrumb-item active">Fiche</li>
                </ol>
            </nav>
        </div><!-- End Page Title -->

        <section class="section dashboard">
            <div class="row">

                <!-- Left side columns -->
                <div class="col-lg-8">
                    <div class="row">
<div>
  <h4>SafeEYE vous permet de suivre les statistiques des maladies du clinique</h4>
</div>
<div>
  <canvas id="myChart"></canvas>
</div>
<script>
var mysql = require('mysql');
var con = mysql.createConnection({
  host: "localhost",
  user: "phpmyadmin",
  password: ""
  database: "symfony",
});
con.connect(function(err) {
  if (err) throw err;
  var sql = "SELECT COUNT(maladie) AS maladies FROM consultation WHERE maladie = 'Cataracte'";
  con.query(sql, function (err, result) {
    if (err) throw err;
  });
});
</script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<script>

  const ctx = document.getElementById('myChart');
   const maladie1 = 12 ;
   const maladie2 = 19 ;
   const maladie3 = 3 ;
   const maladie4 = 5 ;
   const maladie5 = 2 ;
   const maladie6 = 3 ;
   const maladie7 = 8 ;
  new Chart(ctx, {
    type: 'bar',
    data: {
      labels: ['Sécheresse oculaire', 'Dégénérescence maculaire', 'Glaucome', 'Cataracte', 'Troubles visuels', 'miroir du corps','Brochure'],
      datasets: [{
        label: 'nombre des maladies',
        data: [maladie1, maladie2, maladie3, maladie4, maladie5, maladie6,maladie7],
        borderWidth: 1
      }]
    },
    options: {
      scales: {
        y: {
          beginAtZero: true
        }
      }
    }
  });
</script>
                     

                    </div>
                </div><!-- End Left side columns -->

                <!-- Right side columns -->
                <div class="col-lg-4">

                    <!-- Recent Activity -->
                    <div class="card">
                        <div class="filter">
                            <a class="icon" href="#" data-bs-toggle="dropdown"><i class="bi bi-three-dots"></i></a>
                            <ul class="dropdown-menu dropdown-menu-end dropdown-menu-arrow">
                                <li class="dropdown-header text-start">
                                    <h6>Filter</h6>
                                </li>

                                <li><a class="dropdown-item" href="#">Aujourd'hui</a></li>
                                <li><a class="dropdown-item" href="#">Ce mois</a></li>
                                <li><a class="dropdown-item" href="#">Cette Annee</a></li>
                            </ul>
                        </div>

                        <div class="card-body">
                            <h5 class="card-title">Activite recent <span>| Aujourd'hui</span></h5>

                            <div class="activity">

                                <div class="activity-item d-flex">
                                    <div class="activite-label">15 min</div>
                                    <i class='bi bi-circle-fill activity-badge text-success align-self-start'></i>
                                    <div class="activity-content">
                                        je suis malade <a href="#" class="fw-bold text-dark">en attendant le Medecin</a> Khayri
                                    </div>
                                </div><!-- End activity item-->

                                <div class="activity-item d-flex">
                                    <div class="activite-label">56 min</div>
                                    <i class='bi bi-circle-fill activity-badge text-danger align-self-start'></i>
                                    <div class="activity-content">
                                        Accident  travail
                                    </div>
                                </div><!-- End activity item-->

                                <div class="activity-item d-flex">
                                    <div class="activite-label">2 heures</div>
                                    <i class='bi bi-circle-fill activity-badge text-primary align-self-start'></i>
                                    <div class="activity-content">
                                        operation sécurisée
                                    </div>
                                </div><!-- End activity item-->

                                <div class="activity-item d-flex">
                                    <div class="activite-label">1 day</div>
                                    <i class='bi bi-circle-fill activity-badge text-info align-self-start'></i>
                                    <div class="activity-content">
                                        Imprimer les fiches<a href="#" class="fw-bold text-dark"> le Medecin</a> Dani
                                    </div>
                                </div><!-- End activity item-->

                                <div class="activity-item d-flex">
                                    <div class="activite-label">2 jrs</div>
                                    <i class='bi bi-circle-fill activity-badge text-warning align-self-start'></i>
                                    <div class="activity-content">
                                        Evenement exterieur
                                    </div>
                                </div><!-- End activity item-->

                                <div class="activity-item d-flex">
                                    <div class="activite-label">4 sem</div>
                                    <i class='bi bi-circle-fill activity-badge text-muted align-self-start'></i>
                                    <div class="activity-content">
                                        re-checking des fiches patient
                                    </div>
                                </div><!-- End activity item-->

                            </div>

                        </div>
                    </div><!-- End Recent Activity -->                  
                </div><!-- End Right side columns -->
            </div>
        </section>
    </main><!-- End #main -->
   
{% endblock %}
